!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=class{constructor(t=0,e=0){this.x=t,this.y=e}};var o=class{constructor(t,e){this.pos=new i,this.size=new i(t,e)}get left(){return this.pos.x-this.size.x/2}get right(){return this.pos.x+this.size.x/2}get top(){return this.pos.y-this.size.y/2}get bottom(){return this.pos.y+this.size.y/2}};var r=class extends o{constructor(){super(20,100),this.score=0}};var n=class extends o{constructor(){super(10,10),this.velocity=new i}};var l=class{constructor(t){let e;this._canvas=t,this._context=t.getContext("2d"),this.colors=["#FF355E","#FF6037","#FFFF66","#FFCC33","#66FF66","#AAF0D1","#50BFE6","#FF6EFF","#FF00CC","#fff"],this.balls=[new n,new n,new n,new n,new n,new n,new n,new n,new n,new n],this.players=[new r,new r],this.players[0].pos.x=40,this.players[1].pos.x=this._canvas.width-40,this.players.forEach(t=>{t.pos.y=this._canvas.height/2});const s=t=>{e&&this.update((t-e)/1e3),e=t,requestAnimationFrame(s)};s(),this.resetAllBalls()}collide(t,e){if(t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top){e.velocity.x=-1*e.velocity.x;const t=this.balls[this.balls.indexOf(e)];t.velocity.y*=1.02,t.velocity.x*=1.02}}draw(){this._context.fillStyle="rgba(0, 0, 0, 0.06)",this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this.balls.forEach((t,e)=>this.drawRect(t,this.colors[e])),this.players.forEach(t=>this.drawRect(t,"#fff"))}drawRect(t,e){this._context.fillStyle=e,this._context.fillRect(t.left,t.top,t.size.x,t.size.y)}resetAllBalls(){this.balls.forEach(t=>{t.pos.x=this._canvas.width/2,t.pos.y=this._canvas.height/2,t.velocity.x=0,t.velocity.y=0})}returnRandomSpeed(){return(200*Math.random()+50)*(Math.random()>.5?1:-1)}resetOneBall(t){const e=this.balls.indexOf(t);this.balls[e].pos.x=this._canvas.width/2,this.balls[e].pos.y=this._canvas.height/2,this.balls[e].velocity.x=this.returnRandomSpeed(),this.balls[e].velocity.y=this.returnRandomSpeed()}start(){this.players.forEach(t=>t.score=0),this.balls.forEach(t=>{0===t.velocity.x&&(t.velocity.x=this.returnRandomSpeed(),t.velocity.y=this.returnRandomSpeed())})}updateScore(){document.getElementById("p1_score").innerText=this.players[0].score,document.getElementById("p2_score").innerText=this.players[1].score}changeAIPos(t){this.players[1].pos.y=(this.players[1].pos.y+t.pos.y)/2}update(t){let e=this.balls[0];this.balls.forEach(s=>{if((s.velocity.x>220&&s.velocity.x<350||s.pos.x>e.pos.x&&s.velocity.x<e.velocity.x)&&(e=s),s.pos.x+=s.velocity.x*t,s.pos.y+=s.velocity.y*t,s.left<0||s.right>this._canvas.width){const t=s.velocity.x<0|0;this.players[t].score++,this.resetOneBall(s)}(s.top<0||s.bottom>this._canvas.height)&&(s.velocity.y=-1*s.velocity.y),this.players.forEach(t=>{this.collide(t,s),t.score>49&&this.resetAllBalls()})}),this.updateScore(),this.changeAIPos(e),this.draw()}};const a=document.getElementById("pong"),c=new l(a);a.addEventListener("mousemove",t=>{c.players[0].pos.y=t.offsetY}),a.addEventListener("click",t=>{c.start()})}]);
//# sourceMappingURL=bundle.js.map