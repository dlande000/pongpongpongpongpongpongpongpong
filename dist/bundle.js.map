{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/vector.js","webpack:///./src/rectangle.js","webpack:///./src/player.js","webpack:///./src/ball.js","webpack:///./src/pong.js","webpack:///./src/entry.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","x","y","this","w","h","pos","size","super","score","velocity","canvas","lastTime","_canvas","_context","getContext","colors","balls","players","width","forEach","player","height","requestAnimationFrameCallback","milliseconds","update","requestAnimationFrame","resetAllBalls","ball","left","right","top","bottom","ballToChange","indexOf","fillStyle","fillRect","drawRect","rect","color","Math","random","returnRandomSpeed","document","getElementById","innerText","changeTime","chasingBall","playerId","resetOneBall","collide","updateScore","changeAIPos","draw","addEventListener","event","offsetY","start"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class Vector {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\nexport default Vector;","import Vector from './vector';\n\nclass Rectangle {\n    constructor(w, h) {\n        this.pos = new Vector();\n        this.size = new Vector(w, h);\n    }\n\n    get left() {\n        return (this.pos.x - this.size.x/2);\n    } \n\n    get right() {\n        return (this.pos.x + this.size.x/2);\n    }\n\n    get top() {\n        return (this.pos.y - this.size.y/2);\n    }\n    \n    get bottom() {\n        return (this.pos.y + this.size.y/2);\n    }\n}\n\nexport default Rectangle;","import Rectangle from './rectangle';\n\nclass Player extends Rectangle {\n    constructor() {\n        super(20, 100);\n        this.score = 0;\n    }\n}\n\nexport default Player;","import Vector from './vector';\nimport Rectangle from './rectangle';\n\nclass Ball extends Rectangle {\n    constructor() {\n        super(10, 10);\n        this.velocity = new Vector();\n    }\n}\n\nexport default Ball;","import Player from './player';\nimport Ball from './ball';\n\nclass Pong {\n    constructor(canvas) {\n        this._canvas = canvas;\n        this._context = canvas.getContext('2d');\n        this.colors = [\"#FF355E\", \"#FF6037\", \"#FFFF66\", '#FFCC33', '#66FF66', '#AAF0D1', '#50BFE6', '#FF6EFF', '#FF00CC', \"#fff\"];\n        this.balls = [new Ball(), new Ball(), new Ball(), new Ball(), new Ball(), new Ball(), new Ball(), new Ball(), new Ball(), new Ball()];\n        this.players = [new Player(), new Player()];\n        this.players[0].pos.x = 40;\n        this.players[1].pos.x = this._canvas.width - 40;\n        this.players.forEach(player => {\n            player.pos.y = this._canvas.height/2;\n        });\n        let lastTime;\n        const requestAnimationFrameCallback = milliseconds => {\n            if (lastTime) {\n                this.update((milliseconds - lastTime)/1000);\n            }\n            lastTime = milliseconds;\n            requestAnimationFrame(requestAnimationFrameCallback);\n        };\n        requestAnimationFrameCallback();\n        this.resetAllBalls();\n    }\n\n    collide(player, ball) {\n        if (player.left < ball.right && player.right > ball.left && player.top < ball.bottom && player.bottom > ball.top) {\n            ball.velocity.x = -1 * ball.velocity.x;\n            const ballToChange = this.balls[this.balls.indexOf(ball)];\n            ballToChange.velocity.y *= 1.02;\n            ballToChange.velocity.x *= 1.02;\n        }\n    }\n\n    draw() {\n        this._context.fillStyle = 'rgba(0, 0, 0, 0.06)';\n        this._context.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        this.balls.forEach((ball, i) => this.drawRect(ball, this.colors[i]));\n        this.players.forEach(player => this.drawRect(player, \"#fff\"));\n    }\n\n    drawRect(rect, color) {\n        this._context.fillStyle = color;\n        this._context.fillRect(rect.left, rect.top, rect.size.x, rect.size.y);\n    }\n\n    resetAllBalls() {\n        this.balls.forEach(ball => {\n            ball.pos.x = this._canvas.width/2;\n            ball.pos.y = this._canvas.height/2;\n            ball.velocity.x = 0;\n            ball.velocity.y = 0;\n        });\n    }\n\n    returnRandomSpeed() {\n        return ((Math.random() * 200) + 50) * (Math.random() > 0.5 ? 1 : -1);\n    }\n\n    resetOneBall(ball) {\n        const i = this.balls.indexOf(ball);\n        this.balls[i].pos.x = this._canvas.width/2;\n        this.balls[i].pos.y = this._canvas.height/2;\n        this.balls[i].velocity.x = this.returnRandomSpeed();\n        this.balls[i].velocity.y = this.returnRandomSpeed();\n    }\n\n    start() {\n        this.players.forEach(player => player.score = 0);\n        this.balls.forEach(ball => {\n            if (ball.velocity.x === 0) {\n                ball.velocity.x = this.returnRandomSpeed();\n                ball.velocity.y = this.returnRandomSpeed();\n            }\n        });\n    }\n\n    updateScore() {\n        document.getElementById('p1_score').innerText = this.players[0].score;\n        document.getElementById('p2_score').innerText = this.players[1].score;\n    }\n\n    changeAIPos(ball) {\n        this.players[1].pos.y = (this.players[1].pos.y + ball.pos.y)/2;\n    }\n\n    update(changeTime) {\n        let chasingBall = this.balls[0];\n        this.balls.forEach(ball => {\n            if ((ball.velocity.x > 220 && ball.velocity.x < 350) || (ball.pos.x > chasingBall.pos.x && ball.velocity.x < chasingBall.velocity.x)) {\n                chasingBall = ball;\n            }\n\n            ball.pos.x += ball.velocity.x * changeTime;\n            ball.pos.y += ball.velocity.y * changeTime;\n\n            if (ball.left < 0 || ball.right > this._canvas.width) {\n                const playerId = ball.velocity.x < 0 | 0;\n                this.players[playerId].score++;\n                this.resetOneBall(ball);\n            }\n            if (ball.top < 0 || ball.bottom > this._canvas.height) {\n                ball.velocity.y = -1 * ball.velocity.y;\n            }\n            this.players.forEach(player => {\n                this.collide(player, ball);\n                if (player.score > 49) {\n                    this.resetAllBalls();\n                }\n            });\n        });  \n\n        this.updateScore();\n        this.changeAIPos(chasingBall);\n        this.draw();\n    }\n}\n\nexport default Pong;","import Pong from './pong';\n\nconst canvas = document.getElementById('pong');\nconst pong = new Pong(canvas);\n\ncanvas.addEventListener('mousemove', event => {\n    pong.players[0].pos.y = event.offsetY;\n});\n\ncanvas.addEventListener('click', event => {\n    pong.start();\n});"],"sourceRoot":""}